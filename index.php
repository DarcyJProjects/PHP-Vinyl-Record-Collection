<!DOCTYPE html>
<html>
<!-- START HEAD -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Darcy's Record Collection</title>
    <link rel="icon" type="image/x-icon" href="/favicon.png">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700&amp;display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.6.1/css/pikaday.min.css">

    <script src="https://code.jquery.com/jquery-3.1.0.js"></script> <!--JQUERY for img hover-->

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="assets/css/Projects-Grid-images.css">
    <link rel="stylesheet" href="assets/css/Stats-icons.css">
</head>
<!-- END HEAD -->
<!-- START BODY -->
<body>
    <nav class="navbar navbar-dark navbar-expand-lg fixed-top bg-white portfolio-navbar gradient">
        <div class="container"><img src="favicon.png" width="50" height="50">&nbsp&nbsp&nbsp&nbsp<a class="navbar-brand logo" href="#">Darcy's Record Collection</a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navbarNav"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="#">Home</a></li>
                    <li class="nav-item"><a class="nav-link active" href="#favartists">Fav Artists</a></li>
                    <li class="nav-item"><a class="nav-link active" href="#stats">Stats</a></li>
                    <li class="nav-item"><a class="nav-link active" href="#albums">Albums</a></li>
                    <li class="nav-item"><a class="nav-link active" href="#favsingleseps">Fav Singles/EPs</a></li>
                    <li class="nav-item"><a class="nav-link active" href="#wishlist">Wishlist</a></li>
                    <li class="nav-item"><a class="nav-link active" href="#other">Other Formats</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- START ABOUT SECTION -->
    <main class="page lanidng-page" id="home">
        <section class="portfolio-block block-intro">
            <div class="container">
                <div class="avatar" style="background: url('assets/img/avatars/avatar.jpg'); background-size: cover;"></div>
                <div class="about-me">
                    <p>Hello! Here's the page I use to keep track of my vinyl record collection.</p>
                    <div class="alert alert-success alert-dismissible">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        <strong>New Features!</strong>  For albums, you can now click on the title to open a new page to view all it's images!<br>You can also now hover over images on the main page to see a secondary image!<br>Date collected is now added for all albums! (Visible on the secondary page for the releases)<br>Other format section added as well :)
                    </div>
                    </div>
                    <!--<img src="assets/img/paulmccartney_banner.jpg" width="500">-->
                </div>
            </div>
        </section>
    <!-- END ABOUT SECTION -->
    <!-- START FAV ARTISTS SECTION -->
        <section class="portfolio-block photography" style="background: var(--bs-gray-100);">
            <div class="container py-4 py-xl-5">
                <div class="row mb-5">
                    <div class="col-md-8 col-xl-6 text-center mx-auto">
                        <h2 id="favartists"><strong>My Favourite Artists</strong></h2>
                        <p class="w-lg-50">Some of my favourite artists - not all of them as I couldn't possibly list them all!&nbsp;</p>
                        
                    </div>
                </div>
                <div class="row gy-4 row-cols-1 row-cols-md-2">
                    <div class="col">
                        <div class="d-flex flex-column flex-lg-row">
                            <div class="w-100"><img class="rounded img-fluid d-block w-100 fit-cover" src="assets/img/artists/paulmccartney.webp" style="height: 200px;"></div>
                            <div class="py-4 py-lg-0 px-lg-4">
                                <h4>Paul McCartney (&amp; Wings)</h4>
                                <p>Paul McCartney is a British vocalist, songwriter, composer, bass player, poet, and painter whose work with the Beatles in the 1960s helped lift popular music into a creative, highly commercial art form.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="d-flex flex-column flex-lg-row">
                            <div class="w-100"><img class="rounded img-fluid d-block w-100 fit-cover" src="assets/img/artists/thebeatles.webp" width="71" height="200" style="height: 200px;"></div>
                            <div class="py-4 py-lg-0 px-lg-4">
                                <h4>The Beatles</h4>
                                <p>The Beatles were an English rock band, formed in Liverpool in 1960, that comprised John Lennon, Paul McCartney, George Harrison and Ringo Starr.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="d-flex flex-column flex-lg-row">
                            <div class="w-100"><img class="rounded img-fluid d-block w-100 fit-cover" src="assets/img/artists/georgeharrison.jpg" style="height: 200px;"></div>
                            <div class="py-4 py-lg-0 px-lg-4">
                                <h4>George Harrison</h4>
                                <p>George Harrison MBE (1943-2001) was an English musician and singer-songwriter who achieved international fame as the lead guitarist of the Beatles.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="d-flex flex-column flex-lg-row">
                            <div class="w-100"><img class="rounded img-fluid d-block w-100 fit-cover" src="assets/img/artists/catstevens.jpg" style="height: 200px;"></div>
                            <div class="py-4 py-lg-0 px-lg-4">
                                <h4>Cat Stevens</h4>
                                <p>Yusuf Islam (Cat Stevens) is a British singer-songwriter. His musical style consists of folk, pop, rock, and, later in his career, Islamic music. He returned to making secular music in 2006.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    <!-- END FAV ARTISTS SECTION -->
    <!-- START STATS SECTION -->
        <section class="portfolio-block photography">
            <div class="container py-4 py-xl-5">
                <div class="row mb-5">
                    <div class="col-md-8 col-xl-6 text-center mx-auto">
                        <h2 id="stats"><strong>Stats</strong></h2>
                        <p class="w-lg-50"></p>
                    </div>
                </div>
                <div class="row gy-4 row-cols-2 row-cols-md-4">
                    <div class="col">
                        <div class="text-center d-flex flex-column justify-content-center align-items-center py-3">
                            <div class="bs-icon-xl bs-icon-circle bs-icon-primary d-flex flex-shrink-0 justify-content-center align-items-center d-inline-block mb-2 bs-icon lg"><svg class="bi bi-vinyl" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>
                                    <path d="M8 6a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM4 8a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"></path>
                                    <path d="M9 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
                                </svg></div>
                            <div class="px-3">
                                <?php 
                                    $configFileName = "config.conf";
                                    $configDBExtension = explode("|",file($configFileName)[0])[0];
                                    $configNewBadgeText = explode("|",file($configFileName)[1])[0];
                                    $configDBStartLine = explode("|",file($configFileName)[2])[0];
                                    $configDBDir = explode("|",file($configFileName)[3])[0];

                                    $databaseFiles = array("cs", "gh", "ls", "pm", "sp", "tb");
                                    $albums = 0;

                                    for ($i = 0; $i < count($databaseFiles); $i++)
                                    {
                                        $databaseFileDir = "database/albums/" . $databaseFiles[$i] . "_album_database.txt";
                                        $lines = count(file($databaseFileDir)) - $configDBStartLine;
                                        $albums = $albums + $lines;
                                    }

                                    echo "<h2 class='fw-bold mb-0'>";
                                    echo $albums;
                                    echo "</h2>";
                                ?>
                                <!--<h2 class="fw-bold mb-0">24</h2>-->
                                <p class="mb-0">Albums</p>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="text-center d-flex flex-column justify-content-center align-items-center py-3">
                            <div class="bs-icon-xl bs-icon-circle bs-icon-primary d-flex flex-shrink-0 justify-content-center align-items-center d-inline-block mb-2 bs-icon lg"><svg class="bi bi-vinyl-fill" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M8 6a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0 3a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"></path>
                                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4 8a4 4 0 1 0 8 0 4 4 0 0 0-8 0z"></path>
                                </svg></div>
                            <div class="px-3">
                                <!--Not using PHP yet as I have not incorporated a database for these yet.--> 
                                <h2 class="fw-bold mb-0">114</h2>
                                <p class="mb-0">Singles/EPs</p>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="text-center d-flex flex-column justify-content-center align-items-center py-3">
                            <div class="bs-icon-xl bs-icon-circle bs-icon-primary d-flex flex-shrink-0 justify-content-center align-items-center d-inline-block mb-2 bs-icon lg"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor">
                                    <!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. -->
                                    <path d="M502.7 39.02L473 9.37c-12.5-12.5-32.74-12.49-45.24 .0106l-46.24 46.37c-3.875 3.875-6.848 8.506-8.598 13.76l-12.19 36.51L284.5 182.3C272.4 173.5 259 166.5 244.4 163.1C211 155.4 177.4 162.3 154.5 185.1C145.3 194.5 138.3 206 134.3 218.6C128.3 237.1 111.1 251.3 92.14 253C68.52 255.4 46.39 264.5 29.52 281.5c-45.62 45.5-37.38 127.5 18.12 183c55.37 55.38 137.4 63.51 182.9 18c16.1-16.88 26.25-38.85 28.5-62.72c1.75-18.75 15.84-36.16 34.47-42.16c12.5-3.875 24.03-10.87 33.4-20.25c22.87-22.88 29.75-56.38 21.1-89.76c-3.375-14.63-10.39-27.99-19.14-40.11l76.25-76.26l36.53-12.17c5.125-1.75 9.894-4.715 13.77-8.59l46.36-46.29C515.2 71.72 515.2 51.52 502.7 39.02zM208 352c-26.5 0-48-21.5-48-48c0-26.5 21.5-48 48-48s47.1 21.5 47.1 48C256 330.5 234.5 352 208 352z"></path>
                                </svg></div>
                            <div class="px-3">
                            <?php 
                                    $configFileName = "config.conf";
                                    $configDBExtension = explode("|",file($configFileName)[0])[0];
                                    $configNewBadgeText = explode("|",file($configFileName)[1])[0];
                                    $configDBStartLine = explode("|",file($configFileName)[2])[0];
                                    $configDBDir = explode("|",file($configFileName)[3])[0];
                                    $databaseFiles = array("tb");
                                    $albums = 0;
                                    $singles = 9; //will make this check from a database at a later date.


                                    for ($i = 0; $i < count($databaseFiles); $i++)
                                    {
                                        $databaseFileDir = "database/albums/" . $databaseFiles[$i] . "_album_database.txt";
                                        $lines = count(file($databaseFileDir)) - $configDBStartLine;
                                        $albums = $albums + $lines;
                                    }

                                    echo "<h2 class='fw-bold mb-0'>";
                                    echo $albums + $singles;
                                    echo "</h2>";
                                ?>
                                <p class="mb-0">Beatles Records</p>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="text-center d-flex flex-column justify-content-center align-items-center py-3">
                            <div class="bs-icon-xl bs-icon-circle bs-icon-primary d-flex flex-shrink-0 justify-content-center align-items-center d-inline-block mb-2 bs-icon lg"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M22 21C23.1046 21 24 20.1046 24 19V5C24 3.89543 23.1046 3 22 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H22ZM11 5H8.98486V13H7.98511V19H12V13H11V5ZM18.0151 19H22V5H19.0151V13H18.0151V19ZM17.0151 13H16.0151V5H14V13H13V19H17.0151V13ZM6.98511 19V13H5.98486V5H3L3 19H6.98511Z" fill="currentColor"></path>
                                </svg></div>
                            <div class="px-3">
                            <?php 
                                    $configFileName = "config.conf";
                                    $configDBExtension = explode("|",file($configFileName)[0])[0];
                                    $configNewBadgeText = explode("|",file($configFileName)[1])[0];
                                    $configDBStartLine = explode("|",file($configFileName)[2])[0];
                                    $configDBDir = explode("|",file($configFileName)[3])[0];
                                    $databaseFiles = array("pm");
                                    $albums = 0;
                                    $singles = 2; //will make this check from a database at a later date.
                                    for ($i = 0; $i < count($databaseFiles); $i++)
                                    {
                                        $databaseFileDir = "database/albums/" . $databaseFiles[$i] . "_album_database.txt";
                                        $lines = count(file($databaseFileDir)) - $configDBStartLine;
                                        $albums = $albums + $lines;
                                    }

                                    echo "<h2 class='fw-bold mb-0'>";
                                    echo $albums + $singles;
                                    echo "</h2>";
                                ?>
                                <p class="mb-0">Macca Records</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
<!-- END STATS SECTION -->
<!-- START MAIN -->
<?php
//CONFIGURATION
$sections = array("album:pm_album", "album:tb_album", "album:gh_album", "album:cs_album", "album:ls_album", "album:sp_album", "album:le_album", "fav_singles_eps:fav_singles_eps", "other_singles_eps:other_singles_eps", "wishlist:wishlist",  "other:other");

$firstAlbum = true;
$firstFav = true;
$firstWishlist = true;
$firstOther = true;

$lastColour = "white";

for ($s = 0; $s < count($sections); $s++){
    $type = explode(":",$sections[$s])[0];
    $databaseName = explode(":",$sections[$s])[1];

    $configFileName = "config.conf";
    $configDBExtension = explode("|",file($configFileName)[0])[0];
    $configNewBadgeText = explode("|",file($configFileName)[1])[0];
    $configDBStartLine = explode("|",file($configFileName)[2])[0];
    $configDBDir = explode("|",file($configFileName)[3])[0];
    $configCollectedText = explode("|",file($configFileName)[4])[0];
    $configSectionTitleLine = explode("|",file($configFileName)[5])[0];
    $configSectionDescriptionLine = explode("|",file($configFileName)[6])[0];


    if ($type == "album"){
        $fileDir = $configDBDir . "/albums/" . $databaseName . "_database" . $configDBExtension;
        $fileContent = file($fileDir);
        $lines = count(file($fileDir));
        
        $imgDir = $configDBDir . "/albums/" . $databaseName . "/";
        
        $sectionTitle = $fileContent[$configSectionTitleLine];
        $sectionDescription = $fileContent[$configSectionDescriptionLine];
        if (str_contains($sectionDescription,"null")){
            $sectionDescription = "";
        }

        //check section colour (grey vs white)
        if ($lastColour == "white"){
            echo "<section class='portfolio-block call-to-action border-bottom'  style='background: var(--bs-gray-100);'>\n";
            $lastColour = "grey";
        } else {
            echo "<section class='portfolio-block call-to-action border-bottom'>\n";
            $lastColour = "white";
        }
        
        //check if first section (first must have ID album for # links)
        if ($firstAlbum == true){
            $firstAlbum = false;
            echo "<h1 id='albums' style='text-align: center;'><strong>Albums</strong></h1>\n";
            echo "<div class='container'>\n";
            echo "    <div class='d-flex justify-content-center align-items-center content'></div>\n";
            echo "</div>\n";
        }

        echo "<div class='container py-4 py-xl-5'>\n";
        echo "        <div class='row mb-5'>\n";
        echo "            <div class='col-md-8 col-xl-6 text-center mx-auto'>\n";
        echo "                <h2>" . $sectionTitle . "<br>Albums</h2>\n";
        echo "                <h5 style='text-align: center;'>" . $sectionDescription . "</h5>\n";
        echo "            </div>\n";
        echo "       </div>\n";
        echo "        <div class='row gy-4 row-cols-1 row-cols-md-2 row-cols-xl-3'>\n";


        for ($n = $configDBStartLine; $n < $lines; $n++) {
            $fileItems = explode(":",$fileContent[$n]);

            $subtitle = $fileItems[0];
            $title = $fileItems[1];
            $description = $fileItems[2];
            $identifier = $fileItems[3];
            $mediaCondition = $fileItems[4];
            $sleeveCondition = $fileItems[5];
            $imageName = $fileItems[6];
            $imageExtension = $fileItems[7];
            $discogsID = $fileItems[8];
            $newBool = $fileItems[9];
            $numberImages = $fileItems[10];

            $randomID = rand();

            $viewRecordLink = "viewrecord.php" . "?type=" . $type . "&db=" . $databaseName . "&id=" . $n;

            echo "<div class='col'>";
            echo "    <div class='card'>";
            
            echo "         <div class='card-body p-4'><img id='" . $discogsID . $randomID . "' class='rounded img-fluid d-block w-100 fit-cover' src='" . $imgDir . $imageName . "1" . $imageExtension . "' onmouseover='onHover" . $discogsID . $randomID . "();' onmouseout='offHover" . $discogsID . $randomID . "();'>";
            echo "<script>\n";
            echo "function onHover" . $discogsID . $randomID . "()\n";
            echo "{\n";
            echo "    $('#" . $discogsID . $randomID . "').attr('src', '" . $imgDir . $imageName . "2" . $imageExtension . "');\n";
            echo "}\n";

            echo "function offHover" . $discogsID . $randomID . "()\n";
            echo "{\n";
            echo "    $('#" . $discogsID . $randomID . "').attr('src', '" . $imgDir . $imageName . "1" . $imageExtension . "');\n";
            echo "}\n";
            echo "</script>\n";
            
            echo "             <br><h4 class='card-title'><strong><a class='link-dark' href='". $viewRecordLink . "'>" . $title . "</a></strong></h4>";
            echo "             <h6 class='text-muted card-subtitle mb-2'>" . $subtitle;
            if (str_contains($newBool, "t")){
                echo "&nbsp&nbsp";
                echo "<span class='badge bg-info'>" . $configNewBadgeText . "</span>";
            }
            echo "</h6>";
            echo "             <p class='card-text'><strong>" . $description . "</strong><br>" . $identifier . "<br>Media Condition: " . $mediaCondition . "<br>Sleeve Condition: " . $sleeveCondition . "</p>";
            echo "         </div>";
            echo "     </div>";
            echo "</div>";
        } 
        
            echo "</div>\n";
            echo "    </div>\n";
            echo "</section>\n";
        } else if ($type == "fav_singles_eps")
        {
            $fileDir = $configDBDir . "/singles_eps/" . $databaseName . "_database" . $configDBExtension;
            $fileContent = file($fileDir);
            $lines = count(file($fileDir));
            
            $imgDir = $configDBDir . "/singles_eps/" . $databaseName . "/";
            
            $mainTitle = explode(":",file($configDBDir . "/singles_eps/singles_eps_section_database" . $configDBExtension)[0])[1];
            $mainDescription = explode(":",file($configDBDir . "/singles_eps/singles_eps_section_database" . $configDBExtension)[1])[1];

            $sectionTitle = $fileContent[$configSectionTitleLine];
            $sectionDescription = $fileContent[$configSectionDescriptionLine];
            if (str_contains($sectionDescription,"null")){
                $sectionDescription = "";
            }

            //check section colour (grey vs white)
            if ($lastColour == "white"){
                echo "<section class='portfolio-block call-to-action border-bottom'  style='background: var(--bs-gray-100);'>\n";
                $lastColour = "grey";
            } else {
                echo "<section class='portfolio-block call-to-action border-bottom'>\n";
                $lastColour = "white";
            }
            
            //check if first section (first must have ID favsingleseps for # links)
            if ($firstFav == true){
                $firstFav = false;
                echo "<h1 id='favsingleseps' style='text-align: center;'><strong>" . $mainTitle . "</strong></h1>\n";
                echo "<h5 style='text-align: center;'>" . $mainDescription . "</h5>\n";
                echo "<div class='container'>\n";
                echo "    <div class='d-flex justify-content-center align-items-center content'></div>\n";
                echo "</div>\n";
            }

            echo "<div class='container py-4 py-xl-5'>\n";
            echo "        <div class='row mb-5'>\n";
            echo "            <div class='col-md-8 col-xl-6 text-center mx-auto'>\n";
            echo "                <h2>" . $sectionTitle . "</h2>\n";
            echo "                <h5 style='text-align: center;'>" . $sectionDescription . "</h5>\n";
            echo "            </div>\n";
            echo "       </div>\n";
            echo "        <div class='row gy-4 row-cols-1 row-cols-md-2 row-cols-xl-3'>\n";


            for ($n = $configDBStartLine; $n < $lines; $n++) {
                $fileItems = explode(":",$fileContent[$n]);
                $fileDir = $configDBDir . "/singles_eps/" . $databaseName . "_database" . $configDBExtension;
                $fileContent = file($fileDir);
                $lines = count(file($fileDir));

                $imgDir = $configDBDir . "/singles_eps/" . $databaseName . "/";
                
                for ($n = $configDBStartLine; $n < $lines; $n++) {
                    $fileItems = explode(":",$fileContent[$n]);

                    $viewRecordLink = "viewrecord.php" . "?type=" . $type . "&db=" . $databaseName . "&id=" . $n;

                    $subtitle = $fileItems[0];
                    $artist = $fileItems[1];
                    $title = $fileItems[2];
                    $description = $fileItems[3];
                    $identifier = $fileItems[4];
                    $mediaCondition = $fileItems[5];
                    $sleeveCondition = $fileItems[6];
                    $imageName = $fileItems[7];
                    $imageExtension = $fileItems[8];
                    $discogsID = $fileItems[9];
                    $newBool = $fileItems[10];
                    $numberImages = $fileItems[11];

                    $randomID = rand();

                    echo "<div class='col'>";
                    echo "    <div class='card'>";
                    
                    echo "         <div class='card-body p-4'><img id='" . $discogsID . $randomID . "' class='rounded img-fluid d-block w-100 fit-cover' src='" . $imgDir . $imageName . "1" . $imageExtension . "' onmouseover='onHover" . $discogsID . $randomID . "();' onmouseout='offHover" . $discogsID . $randomID . "();'>";
                    echo "<script>\n";
                    echo "function onHover" . $discogsID . $randomID . "()\n";
                    echo "{\n";
                    echo "    $('#" . $discogsID . $randomID . "').attr('src', '" . $imgDir . $imageName . "2" . $imageExtension . "');\n";
                    echo "}\n";

                    echo "function offHover" . $discogsID . $randomID . "()\n";
                    echo "{\n";
                    echo "    $('#" . $discogsID . $randomID . "').attr('src', '" . $imgDir . $imageName . "1" . $imageExtension . "');\n";
                    echo "}\n";
                    echo "</script>\n";
                    
                    echo "             <br><h4 class='card-title'><strong><a class='link-dark' href='". $viewRecordLink . "'>" . $title . "</a></strong></h4>";
                    echo "             <h6 class='text-muted card-subtitle mb-2'>" . $artist . " - " . $subtitle;
                    if (str_contains($newBool, "t")){
                        echo "&nbsp&nbsp";
                        echo "<span class='badge bg-info'>" . $configNewBadgeText . "</span>";
                    }
                    echo "</h6>";
                    echo "             <p class='card-text'><strong>" . $description . "</strong><br>" . $identifier . "<br>Media Condition: " . $mediaCondition . "<br>Sleeve Condition: " . $sleeveCondition . "</p>";
                    echo "         </div>";
                    echo "     </div>";
                    echo "</div>";
                }
            
            echo "</div>\n";
        }
    } else if ($type == "other_singles_eps"){
        $fileDir = $configDBDir . "/singles_eps/" . $databaseName . "_database" . $configDBExtension;
        $fileContent = file($fileDir);
        $lines = count(file($fileDir));
        
        $imgDir = $configDBDir . "/singles_eps/" . $databaseName . "/";
        
        $mainTitle = explode(":",file($configDBDir . "/singles_eps/singles_eps_section_database" . $configDBExtension)[0])[1];
        $mainDescription = explode(":",file($configDBDir . "/singles_eps/singles_eps_section_database" . $configDBExtension)[1])[1];

        $sectionTitle = $fileContent[$configSectionTitleLine];
        $sectionDescription = $fileContent[$configSectionDescriptionLine];
        if (str_contains($sectionDescription,"null")){
            $sectionDescription = "";
        }


        echo "<br><br><br><br>";
        echo "            <div class='col-md-8 col-xl-6 text-center mx-auto'>\n";
        echo "                <h2>" . $sectionTitle . "</h2>\n";
        echo "                <h5 style='text-align: center;'>" . $sectionDescription . "</h5>\n";
        echo "            </div><br>\n";

        for ($n = $configDBStartLine; $n < $lines; $n++) {
            $fileDir = $configDBDir . "/singles_eps/" . $databaseName . "_database" . $configDBExtension;
            $fileContent = file($fileDir);
            $lines = count(file($fileDir));

            echo "<div class='row justify-content-center gy-4 row-cols-1 row-cols-md-2 row-cols-xl-4'>";

            for ($n = $configDBStartLine; $n < $lines; $n++) {
                $fileItems = explode(":",$fileContent[$n]);

                $viewRecordLink = "viewrecord.php" . "?type=" . $type . "&db=" . $databaseName . "&id=" . $n;
                
                $artist = $fileItems[0];
                $format = $fileItems[1];
                $title = $fileItems[2];
                $description = $fileItems[3];
                $identifier = $fileItems[4];
                $condition = $fileItems[5];

                echo "<div class='col'>";
                echo "    <div class='card'>";
                echo "         <div class='card-body p-4'>";
                echo "             <h4 class='card-title'><strong><a class='link-dark' href='". $viewRecordLink . "'>" . $title . "</a></strong></h4>";
                echo "             <h6 class='text-muted card-subtitle mb-2'>" . $artist . "</h6>";
                echo "             <p class='card-text'><strong>" . $description . "</strong><br>" . $format . "<br>" . $identifier . "<br>Condition: " . $condition . "</p>";
                echo "         </div>";
                echo "     </div>";
                echo "</div>";

            }
        }
        
        echo "</div>\n";
        echo "    </div>\n";
        echo "</section>\n";
    } else if ($type == "wishlist"){
        $fileDir = $configDBDir . "/wishlist/" . $databaseName . "_database" . $configDBExtension;
        $fileContent = file($fileDir);
        $lines = count(file($fileDir));
        
        $imgDir = $configDBDir . "/wishlist/" . $databaseName . "/";

        $sectionTitle = $fileContent[$configSectionTitleLine];
        $sectionDescription = $fileContent[$configSectionDescriptionLine];
        if (str_contains($sectionDescription,"null")){
            $sectionDescription = "";
        }

        //check section colour (grey vs white)
        if ($lastColour == "white"){
            echo "<section class='portfolio-block call-to-action border-bottom'  style='background: var(--bs-gray-100);'>\n";
            $lastColour = "grey";
        } else {
            echo "<section class='portfolio-block call-to-action border-bottom'>\n";
            $lastColour = "white";
        }
        
        //check if first section (first must have ID favsingleseps for # links)
        if ($firstWishlist == true){
            $firstWishlist = false;
            echo "<h1 id='wishlist' style='text-align: center;'><strong>" . $sectionTitle . "</strong></h1>\n";
            echo "<h5 style='text-align: center;'>" . $sectionDescription . "</h5>\n";
            echo "<div class='container'>\n";
            echo "    <div class='d-flex justify-content-center align-items-center content'></div>\n";
            echo "</div>\n";
        }

        echo "<div class='container py-4 py-xl-5'>\n";
        echo "        <div class='row gy-4 row-cols-1 row-cols-md-2 row-cols-xl-3'>\n";

        for ($n = $configDBStartLine; $n < $lines; $n++) {
            $fileDir = $configDBDir . "/wishlist/" . $databaseName . "_database" . $configDBExtension;
            $fileContent = file($fileDir);
            $lines = count(file($fileDir));

            $imgDir = $configDBDir . "/wishlist/" . $databaseName . "/";
            
            for ($n = $configDBStartLine; $n < $lines; $n++) {
                $fileItems = explode(":",$fileContent[$n]);

                $viewRecordLink = "viewrecord.php" . "?type=" . $type . "&db=" . $databaseName . "&id=" . $n;

                $artist = $fileItems[0];
                $subtitle = $fileItems[1];
                $title = $fileItems[2];
                $description = $fileItems[3];
                $imageName = $fileItems[4];
                $imageExtension = $fileItems[5];
                $discogsID = $fileItems[6];
                $newBool = $fileItems[7];

                $randomID = rand();

                echo "<div class='col'>";
                echo "    <div class='card'>";

                echo "         <div class='card-body p-4'><img id='" . $discogsID . $randomID . "' class='rounded img-fluid d-block w-100 fit-cover' src='" . $imgDir . $imageName . "1" . $imageExtension . "' onmouseover='onHover" . $discogsID . $randomID . "();' onmouseout='offHover" . $discogsID . $randomID . "();'>";
                echo "<script>\n";
                echo "function onHover" . $discogsID . $randomID . "()\n";
                echo "{\n";
                echo "    $('#" . $discogsID . $randomID . "').attr('src', '" . $imgDir . $imageName . "2" . $imageExtension . "');\n";
                echo "}\n";

                echo "function offHover" . $discogsID . $randomID . "()\n";
                echo "{\n";
                echo "    $('#" . $discogsID . $randomID . "').attr('src', '" . $imgDir . $imageName . "1" . $imageExtension . "');\n";
                echo "}\n";
                echo "</script>\n";

                echo "             <br><h4 class='card-title'><strong><a class='link-dark' href='". $viewRecordLink . "'>" . $title . "</a></strong></h4>";
                echo "             <h6 class='text-muted card-subtitle mb-2'>" . $artist . " - " . $subtitle;
                if (str_contains($newBool, "t")){
                    echo "&nbsp&nbsp";
                    echo "<span class='badge bg-info'>" . $configNewBadgeText . "</span>";
                }
                echo "</h6>";
                echo "             <p class='card-text'>" . $description . "</p>";
                echo "         </div>";
                echo "     </div>";
                echo "</div>";
            }
        }
        echo "</div>\n";
        echo "    </div>\n";
        echo "</section>\n";

    } else if ($type == "other"){
        $fileDir = $configDBDir . "/other/" . $databaseName . "_database" . $configDBExtension;
        $fileContent = file($fileDir);
        $lines = count(file($fileDir));
        
        $imgDir = $configDBDir . "/other/" . $databaseName . "/";

        $sectionTitle = $fileContent[$configSectionTitleLine];
        $sectionDescription = $fileContent[$configSectionDescriptionLine];
        if (str_contains($sectionDescription,"null")){
            $sectionDescription = "";
        }

        //check section colour (grey vs white)
        if ($lastColour == "white"){
            echo "<section class='portfolio-block call-to-action border-bottom'  style='background: var(--bs-gray-100);'>\n";
            $lastColour = "grey";
        } else {
            echo "<section class='portfolio-block call-to-action border-bottom'>\n";
            $lastColour = "white";
        }
        
        //check if first section (first must have ID favsingleseps for # links)
        if ($firstOther == true){
            $firstOther = false;
            echo "<h1 id='other' style='text-align: center;'><strong>" . $sectionTitle . "</strong></h1>\n";
            echo "<h5 style='text-align: center;'>" . $sectionDescription . "</h5>\n";
            echo "<div class='container'>\n";
            echo "    <div class='d-flex justify-content-center align-items-center content'></div>\n";
            echo "</div>\n";
        }

        echo "<div class='container py-4 py-xl-5'>\n";
        echo "        <div class='row gy-4 row-cols-1 row-cols-md-2 row-cols-xl-3'>\n";

        for ($n = $configDBStartLine; $n < $lines; $n++) {
            $fileItems = explode(":",$fileContent[$n]);

            $artist = $fileItems[0];
            $format = $fileItems[1];
            $title = $fileItems[2];
            $identifier = $fileItems[3];
            $condition = $fileItems[4];
            $imageName = $fileItems[5];
            $imageExtension = $fileItems[6];
            $onDiscogsBool = $fileItems[7];
            $discogsID = $fileItems[8];
            $newBool = $fileItems[9];

            $randomID = rand();

            $viewRecordLink = "viewrecord.php" . "?type=" . $type . "&db=" . $databaseName . "&id=" . $n;

            echo "<div class='col'>";
            echo "    <div class='card'>";
            
            echo "         <div class='card-body p-4'><img id='" . $discogsID . $randomID . "' class='rounded img-fluid d-block w-100 fit-cover' src='" . $imgDir . $imageName . "1" . $imageExtension . "' onmouseover='onHover" . $discogsID . $randomID . "();' onmouseout='offHover" . $discogsID . $randomID . "();'>";
            echo "<script>\n";
            echo "function onHover" . $discogsID . $randomID . "()\n";
            echo "{\n";
            echo "    $('#" . $discogsID . $randomID . "').attr('src', '" . $imgDir . $imageName . "2" . $imageExtension . "');\n";
            echo "}\n";

            echo "function offHover" . $discogsID . $randomID . "()\n";
            echo "{\n";
            echo "    $('#" . $discogsID . $randomID . "').attr('src', '" . $imgDir . $imageName . "1" . $imageExtension . "');\n";
            echo "}\n";
            echo "</script>\n";
            
            echo "             <br><h4 class='card-title'><strong><a class='link-dark' href='". $viewRecordLink . "'>" . $title . "</a></strong></h4>";
            echo "             <h6 class='text-muted card-subtitle mb-2'>" . $artist . " - " . $format;
            if (str_contains($newBool, "t")){
                echo "&nbsp&nbsp";
                echo "<span class='badge bg-info'>" . $configNewBadgeText . "</span>";
            }
            echo "</h6>";
            echo "             <p class='card-text'>" . $identifier . "<br>Condition: " . $condition . "</p>";
            echo "         </div>";
            echo "     </div>";
            echo "</div>";
        }
        echo "</div>\n";
        echo "    </div>\n";
        echo "</section>\n";
    }
} 
//end

?>

</main>
<!-- END MAIN -->
<!-- FOOTER -->
<?php
//check section colour (grey vs white)
if ($lastColour == "white"){
    echo "<footer class='text-center py-4' style='background: var(--bs-gray-100);'>\n";
} else {
    echo "<footer class='text-center py-4'>\n";
}
?>

    <div class="col">
        <ul class="list-inline my-2">
            <li class="list-inline-item me-4"></li>
            <li class="list-inline-item me-4"></li>
            <li class="list-inline-item"></li>
            </ul>
            <a class="link-secondary" href="mailto:darcywdjohnson@gmail.com">Email</a>
            <br>
            <a class="link-secondary" href="https://github.com/DarcyJProjects/PHP-Vinyl-Record-Collection" target="_blank">Source Code</a>
            <p class='text-muted my-2'>Made with <a class="link-secondary" href="https://getbootstrap.com/docs/5.1/getting-started/introduction/" target="_blank">Bootstrap 5.1</a> + <a class="link-secondary" href="https://github.com/DarcyJProjects/PHP-Vinyl-Record-Collection" target="_blank">Custom JS & PHP Scripts!</a></p> 
            <?php
            $year = date("Y");
            if ($year == "2022"){
            echo "<p class='text-muted my-2'>Copyright © 2022 Darcy Johnson.</p>";
            } else {
            echo "<p class='text-muted my-2'>Copyright © 2022-" . $year . " Darcy Johnson.</p>";
            }
            ?>
    </div>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.6.1/pikaday.min.js"></script>
    <script src="assets/js/Lightbox-Gallery.js"></script>
    <script src="assets/js/theme.js"></script>
</body>

</html>